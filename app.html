<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Web App | Riddle + Joke Lab</title>
  <style>
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: #0b1220;
      color: #e5e7eb;
    }
    header{
      padding: 18px 22px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
    }
    a{ color:#93c5fd; text-decoration:none; }
    a:hover{ text-decoration:underline; }

    .wrap{ max-width: 980px; margin: 0 auto; padding: 22px; }
    .grid{ display:grid; grid-template-columns: 1fr; gap: 14px; }
    @media (min-width: 860px){ .grid{ grid-template-columns: 1.2fr .8fr; } }

    .card{
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 16px;
    }
    .btn{
      background:#2563eb;
      border:none;
      color:white;
      padding:10px 12px;
      border-radius: 12px;
      cursor:pointer;
      font-weight:600;
    }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }
    .btn.secondary{ background: rgba(255,255,255,.10); }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    input{
      width:100%;
      padding:10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      color: #e5e7eb;
      outline:none;
    }
    .pill{
      display:inline-block;
      padding:6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.18);
      background: rgba(0,0,0,.25);
      font-size:.9rem;
    }
    .success{ color:#86efac; }
    .muted{ color:#a1a1aa; }
  </style>
</head>
<body>
  <header>
    <div>
      <div style="font-weight:800; font-size:1.1rem;">Riddle + Joke Lab</div>
    </div>
    <div class="row">
      <span class="pill">Score: <span id="score">0</span></span>
      <button class="btn secondary" id="modeBtn">Toggle Mode</button>
      <a class="pill" href="scratch.html">← Back to Scratch</a>
    </div>
  </header>

  <div class="wrap">
    <div class="grid">
      <section class="card">
        <h2 style="margin-top:0;">Prompt</h2>
        <p class="muted" id="modeLabel">Mode: Riddle</p>
        <div class="card" style="background: rgba(0,0,0,.22);">
          <div id="prompt" style="font-size:1.05rem; line-height:1.5;"></div>
        </div>

        <div id="answerArea" style="margin-top:12px;">
          <label class="muted">Your answer:</label>
          <input id="userAnswer" placeholder="Type your guess..." />
          <div class="row" style="margin-top:10px;">
            <button class="btn" id="checkBtn">Check</button>
            <button class="btn secondary" id="revealBtn">Reveal</button>
            <button class="btn secondary" id="newBtn">New Prompt</button>
          </div>
          <p id="feedback" class="muted" style="margin-bottom:0;"></p>
        </div>

        <div id="jokeArea" style="display:none; margin-top:12px;">
          <div class="row">
            <button class="btn" id="newJokeBtn">New Joke</button>
            <span class="muted">Jokes don’t have a “right” answer — just vibes.</span>
          </div>
        </div>
      </section>

      <aside class="card">
        <h2 style="margin-top:0;">Riddle + Joke Lab</h2>
        <ul>
          <li>Just Type In Your Answer</li>
          <li>See How Many Points You Can Get</li>
          <li>Click Toggle Mode To Switch Between Jokes and Riddles</li>
        </ul>
        <hr style="border-color: rgba(255,255,255,.12);" />
        <p class="muted" style="margin-bottom:0;">
          Hope you like it!
        </p>
      </aside>
    </div>
  </div>

  <script>
    const riddles = [
      { q: "I speak without a mouth and hear without ears. I have no body, but I come alive with wind. What am I?", a: ["echo"] },
      { q: "What has to be broken before you can use it?", a: ["egg", "an egg"] },
      { q: "I’m tall when I’m young, and I’m short when I’m old. What am I?", a: ["candle", "a candle"] },
      { q: "What can you catch but not throw?", a: ["cold", "a cold"] },
      { q: "What has many keys but can’t open a single lock?", a: ["piano", "a piano", "keyboard"] }
    ];

    const jokes = [
      "Why don’t programmers like nature? It has too many bugs.",
      "I told my computer I needed a break… it said: 'No problem, I’ll go to sleep.'",
      "Why did the scarecrow get promoted? He was outstanding in his field.",
      "Parallel lines have so much in common. It’s a shame they’ll never meet."
    ];

    let mode = "riddle";
    let current = null;
    let score = 0;

    const promptEl = document.getElementById("prompt");
    const modeLabel = document.getElementById("modeLabel");
    const scoreEl = document.getElementById("score");
    const userAnswer = document.getElementById("userAnswer");
    const feedback = document.getElementById("feedback");

    const answerArea = document.getElementById("answerArea");
    const jokeArea = document.getElementById("jokeArea");

    function pickRandom(arr){ return arr[Math.floor(Math.random() * arr.length)]; }

    function newRiddle(){
      current = pickRandom(riddles);
      promptEl.textContent = current.q;
      feedback.textContent = "";
      userAnswer.value = "";
      userAnswer.focus();
    }

    function newJoke(){
      current = pickRandom(jokes);
      promptEl.textContent = current;
      feedback.textContent = "";
    }

    function setMode(nextMode){
      mode = nextMode;
      modeLabel.textContent = "Mode: " + (mode === "riddle" ? "Riddle" : "Joke");
      feedback.textContent = "";

      if (mode === "riddle"){
        answerArea.style.display = "block";
        jokeArea.style.display = "none";
        newRiddle();
      } else {
        answerArea.style.display = "none";
        jokeArea.style.display = "block";
        newJoke();
      }
    }

    function normalize(s){
      return (s || "").trim().toLowerCase().replace(/[^\w\s]/g, "");
    }

    document.getElementById("checkBtn").addEventListener("click", () => {
      const guess = normalize(userAnswer.value);
      const ok = current.a.some(ans => normalize(ans) === guess);
      if (ok){
        score++;
        scoreEl.textContent = score;
        feedback.innerHTML = `<span class="success">Correct!</span> +1 point`;
        newRiddle();
      } else {
        feedback.textContent = "Not quite — try again or reveal the answer.";
      }
    });

    document.getElementById("revealBtn").addEventListener("click", () => {
      feedback.textContent = "Answer: " + current.a[0];
    });

    document.getElementById("newBtn").addEventListener("click", newRiddle);
    document.getElementById("newJokeBtn").addEventListener("click", newJoke);

    document.getElementById("modeBtn").addEventListener("click", () => {
      setMode(mode === "riddle" ? "joke" : "riddle");
    });

    userAnswer.addEventListener("keydown", (e) => {
      if (e.key === "Enter") document.getElementById("checkBtn").click();
    });

    setMode("riddle");
  </script>
</body>
</html>
